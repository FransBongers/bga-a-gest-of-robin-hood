const getRevealedText = (type: string): string => {
  switch (type) {
    case CAMP:
      return 'C';
    case MERRY_MEN:
      return 'M';
    case ROBIN_HOOD:
      return 'RH';
    case TALLAGE_CARRIAGE:
      return 'TAL';
    case TRAP_CARRIAGE:
      return 'TRA';
    case TRIBUTE_CARRIAGE:
      return 'TRI';
    default:
      return '';
  }
};

const tplForce = ({
  id,
  type,
  subtype,
  hidden,
}: {
  id?: string;
  subtype?: string;
  type: string;
  hidden: boolean;
}) => `
  <div ${id ? `id="${id}"` : ''} data-type="${type}" data-hidden="${
  hidden ? 'true' : 'false'
}" ${subtype ? `data-subtype="${subtype}" ` : ''}class="gest_force">${
  type !== HENCHMEN && !hidden ? `<span>${getRevealedText(type)}</span>` : ''
}
${type === ROBIN_HOOD && hidden ? `<span>*</span>` : ''}
${subtype && !hidden ? `<span>${getRevealedText(subtype)}</span>` : ''}
${subtype && hidden ? `<span>*${getRevealedText(subtype)}</span>` : ''}
</div>`;

const tplMarkerSpace = ({
  id,
  top,
  left,
  extraClasses,
}: {
  id: string;
  top: number;
  left: number;
  extraClasses?: string;
}) => {
  return `<div id="${id}" class="${
    extraClasses ? ` ${extraClasses}` : ''
  }" style="top: calc(var(--gestMapScale) * ${top}px); left: calc(var(--gestMapScale) * ${left}px);"></div>`;
};

const tplTrack = ({ config }: { config: TrackConfig[] }) =>
  config
    .map((markerSpace) =>
      tplMarkerSpace({
        id: `${markerSpace.id}`,
        top: markerSpace.top,
        left: markerSpace.left,
        extraClasses: markerSpace.extraClasses,
      })
    )
    .join('');

const tplMarker = ({
  id,
  extraClasses,
}: {
  id: string;
  extraClasses?: string;
}) => `<div id="${id}"${extraClasses ? ` class="${extraClasses}"` : ''}></div>`;

const tplSpaces = () =>
  Object.entries(SPACES_CONFIG)
    .map(([spaceId, config]) => {
      let html = '';
      Object.keys(config).forEach((forceType) => {
        html += `<div id="${forceType}_${spaceId}" class="gest_forces" style="top: calc(var(--gestMapScale) * ${config[forceType].top}px); left: calc(var(--gestMapScale) * ${config[forceType].left}px); width: calc(var(--gestMapScale) * ${config[forceType].width}px); height: calc(var(--gestMapScale) * ${config[forceType].height}px);"></div>`;
      });

      // if (config.camp) {
      //   html += `<div id="camp_${spaceId}" class="gest_forces" style="top: calc(var(--gestMapScale) * ${config.camp.top}px); left: calc(var(--gestMapScale) * ${config.camp.left}px); width: calc(var(--gestMapScale) * ${config.camp.width}px); height: calc(var(--gestMapScale) * ${config.camp.height}px);"></div>`;
      // }
      // if (config.henchmen) {
      //   html += `<div id="henchmen_${spaceId}" class="gest_forces" style="top: calc(var(--gestMapScale) * ${config.henchmen.top}px); left: calc(var(--gestMapScale) * ${config.henchmen.left}px); width: calc(var(--gestMapScale) * ${config.henchmen.width}px); height: calc(var(--gestMapScale) * ${config.henchmen.height}px);"></div>`;
      // }
      // if (config.merryMen) {
      //   html += `<div id="merryMen_${spaceId}" class="gest_forces" style="top: calc(var(--gestMapScale) * ${config.merryMen.top}px); left: calc(var(--gestMapScale) * ${config.merryMen.left}px); width: calc(var(--gestMapScale) * ${config.merryMen.width}px); height: calc(var(--gestMapScale) * ${config.merryMen.height}px);"></div>`;
      // }
      // if (config.carriage) {
      //   html += `<div id="carriage_${spaceId}" class="gest_forces" style="top: calc(var(--gestMapScale) * ${config.carriage.top}px); left: calc(var(--gestMapScale) * ${config.carriage.left}px); width: calc(var(--gestMapScale) * ${config.carriage.width}px); height: calc(var(--gestMapScale) * ${config.carriage.height}px);"></div>`;
      // }
      return html;
    })
    .join('');

const tplGameMap = ({
  gamedatas,
}: {
  gamedatas: AGestOfRobinHoodGamedatas;
}) => {
  return `
  <div id="gest_game_map">
    <svg id="gest_map_spaces">
      <path id="gest_map_space_Blyth" class="gest_map_space" d="M445.88,156.73c23.2-20.36,25.09-26.51,25.09-26.51l7.1-8.52,23.67-17.04,58.23-29.83,16.57-12.78,15.15-13.73,6.15-8.05,19.41-16.1,2.37-17.52,8.52-6.15h13.73l9.47,5.21,4.26.95,8.99,33.14,12.31,8.99,14.2,9.47,10.42,12.31-2.37,10.42,2.37,14.2,4.26,10.42,8.99,8.99,20.83-2.37,6.63-4.26,7.57,7.57,11.36,1.42,11.36-4.26,8.52-3.31,12.78-1.89-17.99,9.47-7.1,3.79.95,4.73-13.26,4.73-4.26,2.37-.57,3.84-10.32,3.35-3.09,3.87,1.29,4.38-2.84,3.87-9.28,1.81-8-.77-10.83.52-8.25,2.06-2.32,3.09-2.58,4.38-15.22,4.13-7.48,4.9-15.99,1.81-10.06,9.54-5.42,9.28-2.84,15.73-2.06,13.15-12.38,5.42,3.09,4.64h12.12l7.48,5.67,5.16,2.58,8.51-4.38,4.38,3.09-8.25,7.22,1.03,11.09,1.6,6.2,6.92,7.97-2.94,5.04,15.95,8.81h11.33l5.88,5.88-.63,9.86,6.71,5.67h18.05l9.02-4.83,9.02,1.05,3.57,8.18,14.9,1.89,8.6-2.31,3.99,2.31.63,3.57,6.71,2.52,10.7,1.89,4.41,1.68,3.99,1.89,15.32-1.89,1.26,3.99,2.94,3.57-4.62,13.22,2.52,10.28,6.09,5.04-1.05,8.6-.23,10.04,4.39,13.03-5.67,4.11-.28,7.65-3.26,2.97h-11.9l-8.64,12.47,3.4,6.09-3.68,2.83-7.51,6.52.14,15.44,6.37,4.82,5.38,1.42-4.11,3.82,4.82,11.9,1.7,7.79,2.97,6.37-4.53,5.67,4.67,3.26,5.52-3.54,8.64,4.53-13.88,11.76-3.4,17.99,5.95,9.35,1.56,17.28,1.27,15.72,22.67,20.4.99,11.33,8.5,7.93-3.54,7.79.71,14.45,13.17,13.46,5.1,5.52,1.13,8.78-6.37,5.67-12.89,2.69-20.68,14.73-34,3.12-11.33,3.97-14.73,13.74-9.77,7.37-6.66,11.9-16.15,10.2-20.68,8.22-4.53,4.53-2.97,11.62-7.93,8.36-.99,12.18,8.22,7.79,11.47,6.37,10.77,1.27-.71,8.36-17.85,7.51-11.33,5.95-13.6,4.25-6.52,8.07-.85,7.79-7.93,10.62-1.13,18.56,6.66,12.04-2.83,12.75,1.13,9.77,6.8,16.43-.42,15.02,6.37,8.78,13.83,5.81,13.8,2.69,4.53,2.83v15.16l-25.92.57-8.36,3.4h-33.29l-17.85,2.55-9.35,6.23-3.54,18.27-8.22-2.55-6.37-9.77-8.5-2.83-3.97-18.42-17.85-17.28,8.22-4.25.99-12.04-8.36-10.91-10.91-6.37-6.8-1.98-5.95-5.81-1.7-10.06-11.62-7.37-37.26-2.55-7.79-8.5-29.47-.99-12.75-9.49-1.56-13.6-6.52-8.36-16.01-7.93-14.87-.42-17.14-17-4.11-2.55-26.21-1.27-10.91-13.46-19.41-.99-16.15,11.33-16.29-4.25-11.9-8.78-19.83-.57-8.36,3.12v-3.82l1.7-1.98-1.7-10.77,8.78-5.52,6.23-15.58,1.13-18.7,4.39-16.29,1.13-12.75-1.84-6.09-.99-7.51,2.97-5.1.85-15.16,14.02-9.92,1.13-4.39,22.38-17.85,12.32-.57,11.33-1.84,17.99-9.63,16.01-16.57,9.21-11.47.14-9.63-5.52-7.51,6.37-8.07,2.83-11.05,2.41-17.57,5.95-27.34,2.69-4.96,17.57-10.34,5.52-7.93,9.21-8.07,6.94-1.98,17-10.2,19.83-10.2,8.92-7.93-1.13-23.8,7.37-10.62.57-12.32-3.4-9.49-8.07-7.93-.14-11.33-8.78-11.05-5.24-5.67-10.06-4.82,1.84-11.05-2.83-9.77,5.67-9.49,14.87-13.32-.71-11.47-10.91-15.58-4.67-3.26-4.53-.85-.42-5.38-7.79-6.8-8.07-4.39-10.77-3.54,15.44-22.24.71-16.57,17.99-16.86,17.42-12.61,6.94-7.79.14-13.46-5.95-5.52-11.33-2.69-9.77-1.27-1.13-5.38-5.38-6.8-3.4-2.12,2.89-.82Z"/>
      <path id="gest_map_space_Retford" class="gest_map_space" d="M713.59,165.88h21.89l16.03-5.47,3.91-3.52v-7.82l13.29-6.65,2.74-5.08,7.43-2.35h10.16l9.77-5.86-5.08-2.74,17.98-7.43h4.3v-5.08l7.82-5.86,20.72-7.82,16.81-6.65-1.95-10.95-2.62-6.26v-10.16l7.31-4.69h9.77v6.26l14.86,1.17,9.38,1.95-9.77-9.38,7.04-1.95,6.26-5.08h8.99l4.69-3.52-3.91-4.3,13.29-5.47,5.08-5.86-3.52-4.3h16.03l20.72-3.52,3.91,3.91,12.51-3.91,6.26,6.65,4.69,3.13,5.86-2.74,9.38,1.17-4.3,4.69,4.3,4.3,10.16.78,8.99.78,8.21,10.16,3.13,11.73,3.91,12.51v17.98l2.35,8.6-1.95,15.64,10.56,8.6,8.99,1.95v5.47l8.6,4.3v5.47l8.99,7.82-7.43,7.04,7.43,16.81,6.26,2.74-1.95,5.86,1.95,4.69-1.95,4.3,8.99,7.04-6.26,5.08,3.91,8.99-3.52,5.47,5.86,7.82v8.6l12.9,8.21-2.74,6.65,2.74,3.91-4.3,4.69,7.43,14.07,3.91,5.86-3.13,7.43,3.13,7.82-5.47,7.04,5.47-2.35,10.56,2.35,12.12,2.35,1.95,7.43,15.25,5.47-2.74,5.47,12.51,12.12,5.47,10.95v6.26l3.52,6.65v13.68l-8.21,11.73-.39,8.21,5.08,7.43-3.91,5.86.39,12.9-13.68,6.65-3.13,8.21-8.6,9.38.78,25.02-5.47,5.86-9.38,15.25v11.34l3.13,4.69,10.16,12.12,7.04,3.52,3.13,4.3-9.77,6.65v7.82s6.65,10.56,6.65,10.56c0,0-.39,5.08-1.56,5.08s-16.42,2.35-16.42,2.35l-1.95-8.99-9.38-13.68-8.21-5.47-7.82-2.74-14.86.78-1.17-13.29-8.21-11.34-14.86-10.39-15.64-5.64-20.72-4.69-12.51,1.95-8.6,6.65s-7.82,3.07-8.99,1.73-20.33-8.77-20.33-8.77l-8.99-3.13-21.5-.78-15.25,1.95-5.86,5.08-52.39,1.56,10.16-8.21-7.43-3.91-13.95,8.6-11.07.39-1.17-4.3-9.38-1.17-5.47-4.3-4.69.78-12.51-6.65v-10.95l-3.52-3.52,4.3-3.52-5.08-7.04-7.82-5.86-.39-7.82,3.91-.39,8.21-10.56-1.17-6.65,6.26-3.13,9.38-.78,11.73-8.99-5.08-4.69,4.3-5.86-.39-6.65-5.86-4.3-1.95-11.73,2.35-22.28-8.21-.78,1.17-8.6,2.74-8.21,5.08-3.91,7.82-.39,8.21-3.52,6.65,1.17-2.35-5.47h-7.82l-4.3,3.52-5.86-6.26-7.43-.39-5.47,1.56-9.38-10.16-8.99,5.47-8.6-6.26-6.26-.78-4.69,1.95-6.65-3.91-1.95-5.47-13.29-2.35-6.26,2.35-8.6-4.1-5.86-6.45-10.16-.39-8.99,1.56-2.35,7.82-9.77-2.54v-6.06l-3.52-6.65-5.08-3.91v-5.86l-18.77,2.35-5.08-7.82-3.13-3.52v-5.86l-4.3-1.17v-7.04l7.04-9.38.39-8.6-5.47-7.04h-7.82l-3.91,3.52-5.47-.78-6.65-5.47,6.65-8.21v-6.26l.78-7.82-.78-4.3,6.26-5.86,7.04-.39,8.21-2.35,4.69-6.26,8.01,1.17v-3.91l9.58-2.74,8.21-4.3,6.65-4.3Z"/>
      <path id="gest_map_space_Mansfield" class="gest_map_space" d="M82.77,1053.28l5.11,5.11,1.86,9.75,8.82,11.61,2.32,9.75-6.97,11.15-2.09,14.86-16.49,16.25-6.97,16.25-4.64,20.43-6.5,17.18-14.4,13.93v15.33l-13.47,21.36-19.97,14.4-8.82,19.97,13,17.65,3.72,11.15,12.07,5.11,8.82,5.11,8.36,14.86.02,13.3,10.49,5.86,7.32,9.27,2.68,12.93-1.46,7.08-8.05,7.56-2.44,16.59,11.47,3.9,12.2,5.86,6.1,10-2.44,10.98-4.15,4.15h-4.39l-6.59,7.32-6.59,7.81,11.23,13.18,3.9,13.18,2.44,10.98.49,6.34,6.83,6.1,19.28,6.1,14.15,2.68,8.05,3.66,8.54,14.15,4.64,10.25v12.69l-7.56,11.47-10.49,8.78,7.56,10.25-.73,11.96,12.69,5.12,11.23,9.76v11.71l-7.08,13.42-.24,9.03-1.95,9.52,9.27,5.12,17.08-5.61,11.23-7.32,13.91,1.22,10.49-11.96,16.84-9.52,9.03,1.22,8.54-3.17v-3.17l14.4-7.56,22.94-17.57,12.45-3.66,11.96,8.3,9.03-4.39,11.71,5.61,7.32-1.71,7.56.24v-7.56l6.83-4.39-2.44-4.15,5.12-2.93,2.2-6.83v-7.81l10.98-2.44,9.03-1.22-31.23-18.3-11.47-3.17-15.37-8.54-4.15-6.59-1.22-7.32-16.84-18.06-8.54-14.64-9.03-6.34-1.71-10.98-10-24.4-5.86-29.04s-1.22-16.35-1.22-17.08-.49-19.52-.73-18.79,1.95-27.82,1.95-27.82l3.9-16.11,10.98-28.31,9.03-17.33,12.93-18.3,15.37-15.86-10.74-5.37-6.34-5.61-1.71-8.3,3.66-8.3,7.56-8.54v-7.08l-16.59-8.05-11.23-10.98-6.59-9.27,5.86-6.83-12.69-14.89.73-9.27,5.86-5.61,5.86-2.44-6.83-12.69-2.2-5.37,1.71-6.1,11.23-7.08-10.25-11.71-2.93-10.49,8.05-12.45,7.32-5.86-8.3-10.98-2.2-8.78,5.86-9.76-2.2-9.52,3.42-4.39,10.98-3.9,10.98-2.68-1.22-13.18,8.54-13.67-1.46-15.37-5.61-4.39-1.95-6.59-14.64,1.95-10.98-5.86-5.61-10.49-11.71-5.12-8.05-6.83h-5.12l-7.32-1.22-16.59,6.1-13.18,2.68-12.2,12.2-14.15,3.17h-14.89l-20.25-1.95-16.59,5.86-14.64,7.81-12.69,1.46-17.33.24-10.49,2.93-7.56,3.42-2.44,5.86-11.71,11.47-1.22,8.05-8.78,10.49-3.42,3.17v7.32l5.86,3.9,6.1,8.3,1.71,4.88,10.74.24,8.54,2.93,7.81,3.66,4.64,1.95,6.43,1Z"/>
      <polygon id="gest_map_space_Remston" class="gest_map_space" points="262.57 1624.08 257.46 1626.96 256.35 1633.18 246.13 1635.63 240.58 1633.41 233.91 1635.63 227.7 1633.63 218.15 1639.62 218.15 1644.51 213.04 1647.84 210.15 1653.62 210.15 1656.5 215.48 1659.17 214.59 1664.05 229.03 1667.16 229.7 1672.94 233.03 1677.16 240.13 1684.04 240.58 1687.37 236.36 1687.37 233.03 1682.49 224.59 1687.37 221.26 1687.37 218.81 1693.37 217.7 1703.37 218.37 1709.36 226.59 1709.36 229.7 1716.47 231.03 1719.8 227.47 1731.35 228.14 1742.45 231.03 1748.9 224.81 1754.45 221.03 1760.67 222.37 1767.77 224.59 1773.1 226.36 1782.21 222.14 1786.21 216.81 1786.21 216.81 1790.65 210.15 1801.09 211.71 1808.2 212.37 1815.52 208.37 1822.85 208.37 1829.07 213.04 1833.29 211.93 1836.62 215.7 1843.06 217.04 1847.95 209.93 1856.83 214.81 1875.27 198.38 1889.71 204.15 1895.04 200.16 1899.03 198.38 1915.47 208.15 1912.36 219.26 1911.91 233.91 1914.14 246.57 1924.13 258.35 1939.68 269.89 1948.34 277.67 1950.12 287 1948.56 296.55 1946.56 309.65 1947.67 319.2 1958.33 328.31 1963.66 338.97 1970.77 349.18 1980.54 360.51 1985.87 370.06 1984.98 378.72 1981.88 382.5 1981.43 397.38 1968.55 405.15 1964.33 436.25 1963 450.46 1967.44 458.01 1970.99 463.34 1969.88 473.34 1967.88 492.44 1954.56 499.32 1950.78 516.2 1950.78 525.08 1958.78 534.19 1966.33 537.97 1968.55 556.62 1968.11 570.61 1965.66 583.5 1963.44 591.94 1953.67 598.15 1953.22 611.04 1952.78 623.25 1960.55 630.14 1967.22 654.34 1967.88 657.01 1963 671 1955 667.67 1945.67 678.55 1938.57 689.15 1937.01 698.1 1937.46 706.54 1941.01 712.53 1942.34 722.97 1941.45 728.75 1939.23 739.85 1937.9 754.29 1935.68 755.18 1930.13 755.18 1923.91 761.17 1915.47 769.84 1911.03 779.83 1908.36 790.93 1905.7 802.04 1902.59 810.26 1895.48 810.26 1879.49 808.26 1870.83 801.15 1864.16 792.05 1846.4 786.71 1836.85 780.05 1831.29 776.5 1823.74 767.39 1819.52 752.96 1819.08 740.52 1815.52 732.08 1807.75 725.42 1795.76 716.53 1786.43 691.44 1785.99 682.11 1779.77 673.22 1766.66 668.56 1750.23 661.67 1743.12 657.01 1737.79 653.01 1724.02 655.68 1710.03 652.35 1702.03 642.57 1699.37 631.25 1700.7 621.25 1690.71 609.26 1684.04 600.82 1678.93 597.04 1671.16 589.05 1660.5 589.49 1653.84 596.82 1645.18 602.82 1639.85 600.38 1632.29 582.39 1628.3 569.06 1622.3 559.51 1616.3 554.85 1607.42 545.3 1602.53 544.85 1595.43 544.63 1590.54 536.86 1580.99 521.75 1567.66 508.87 1567.66 503.32 1572.55 489.99 1575.44 481.78 1574.11 466.89 1577.44 457.79 1580.77 447.79 1576.1 443.57 1576.33 438.69 1580.99 429.58 1582.54 426.03 1578.1 420.48 1573.22 413.15 1573.88 410.04 1576.1 397.38 1576.33 395.38 1580.32 384.5 1578.99 377.61 1567.66 368.28 1568.77 366.28 1579.88 368.06 1583.21 362.29 1589.87 357.62 1590.32 357.18 1597.2 356.51 1601.2 352.51 1604.75 337.63 1605.42 334.75 1613.64 329.64 1614.75 322.09 1614.53 306.1 1609.2 294.33 1610.08 271.23 1618.75 262.57 1624.08"/>
      <polygon id="gest_map_space_Bingham" class="gest_map_space" points="534.26 1554.82 540 1559.09 540 1564.83 548.09 1571.15 558.69 1582.48 565.01 1595.87 571.05 1605.88 580.91 1612.65 590.18 1614.12 601.51 1615.44 612.69 1623.24 619.17 1634.43 619.17 1645.61 607.39 1657.68 607.54 1660.62 613.13 1665.33 613.72 1670.04 624.9 1675.04 632.41 1679.75 636.68 1684.9 644.33 1684.9 655.95 1686.66 665.52 1692.99 670.96 1703.15 670.96 1724.92 676.7 1736.84 685.53 1742.43 687.74 1755.24 690.39 1764.65 696.57 1771.86 713.05 1771.86 723.94 1774.51 732.62 1779.37 737.62 1787.31 744.68 1797.03 746.6 1801.88 753.22 1804.38 770.73 1803.65 781.18 1809.24 790.15 1817.33 797.36 1824.98 805.6 1837.2 807.81 1841.32 808.84 1847.5 813.99 1856.33 819.88 1862.21 823.41 1869.57 825.17 1876.49 826.35 1887.38 831.35 1888.41 836.21 1889.44 841.8 1887.67 860.19 1882.81 879.32 1875.46 887.12 1873.69 894.33 1870.31 904.49 1863.68 908.02 1858.53 911.7 1850.88 911.7 1831.61 910.81 1821.31 917.44 1807.47 922.44 1801.88 929.5 1792.17 939.66 1780.1 956.28 1777.6 964.82 1770.25 984.83 1763.18 995.72 1760.09 1005.73 1757.59 1021.03 1753.03 1034.42 1740.52 1034.42 1719.77 1033.39 1710.65 1041.78 1701.82 1035.3 1693.43 1035.01 1682.4 1039.86 1669.6 1044.87 1664.15 1059.14 1660.47 1070.76 1655.32 1081.65 1651.35 1100.34 1643.7 1100.34 1632.37 1116.38 1617.8 1116.97 1599.99 1125.06 1590.43 1133.01 1581.89 1131.39 1572.33 1125.95 1569.83 1117.71 1568.65 1114.91 1562.77 1108.73 1558.5 1101.96 1558.65 1096.37 1551.58 1100.49 1545.99 1096.52 1540.4 1096.52 1529.51 1093.87 1527.01 1086.51 1527.01 1084.3 1525.54 1084.89 1521.56 1078.56 1520.09 1074.74 1515.09 1070.76 1515.09 1069.88 1512.44 1066.64 1512.44 1061.79 1518.03 1055.17 1516.71 1046.19 1516.41 1044.72 1512.44 1037.22 1512.44 1035.89 1507.14 1022.94 1505.67 1017.35 1503.76 1013.97 1501.7 1007.05 1502.29 1004.4 1500.82 991.89 1500.82 986.01 1497.28 973.5 1500.08 968.64 1497.28 968.5 1492.72 953.93 1486.84 941.57 1471.68 937.15 1465.21 930.53 1465.79 931.12 1463.15 934.65 1461.67 934.51 1455.79 940.83 1448.72 939.95 1445.19 931.86 1443.57 924.2 1437.69 922.73 1430.18 913.32 1425.48 899.04 1430.18 895.66 1429.6 890.8 1422.68 889.33 1412.53 890.65 1400.9 888.74 1395.6 880.8 1388.84 870.79 1393.69 867.55 1395.46 863.58 1395.31 862.11 1396.34 853.57 1395.75 851.22 1391.63 846.22 1396.49 842.68 1395.9 840.77 1391.19 830.91 1397.52 827.68 1400.31 826.79 1407.23 828.56 1410.47 820.02 1423.12 812.81 1425.62 805.75 1432.39 807.96 1438.42 797.36 1446.81 797.66 1454.46 789.56 1461.67 788.53 1466.38 779.26 1466.82 767.64 1470.21 757.19 1470.36 753.95 1468.44 748.07 1468.44 737.03 1473.3 735.71 1477.12 729.38 1477.42 721.43 1484.63 716.72 1485.37 708.63 1490.22 701.42 1496.55 705.69 1500.67 704.36 1506.11 699.8 1510.38 697.89 1517 690.09 1523.33 678.02 1523.33 670.96 1529.8 657.13 1531.13 641.97 1539.81 641.24 1544.22 625.93 1546.28 612.84 1546.87 608.13 1546.58 605.19 1549.23 602.24 1549.23 600.48 1546.28 590.03 1548.64 587.82 1545.11 583.55 1545.55 581.49 1540.4 578.7 1535.69 569.58 1536.28 568.25 1538.49 562.37 1535.54 557.95 1538.34 552.36 1544.22 549.42 1544.08 545.44 1547.76 540 1548.93 534.26 1551.73 534.26 1554.82"/>
      <polygon id="gest_map_space_Tuxford" class="gest_map_space" points="834.4 508 839.29 505.56 847.51 508 861.06 508 866.17 508 885.04 508 902.81 508 917.91 508 929.91 505.56 937.24 499.12 962.56 499.12 974.99 505.78 988.1 510.67 1005.87 510.67 1018.75 502.45 1030.74 502.89 1038.96 506.23 1046.51 509.11 1056.06 512 1066.72 523.55 1064.28 531.55 1066.72 539.99 1073.38 544.87 1081.38 547.31 1099.37 547.31 1108.03 558.2 1106.7 567.08 1114.25 575.52 1122.02 579.07 1140.68 577.08 1140.68 583.07 1134.24 590.62 1134.02 599.51 1125.36 607.5 1135.13 621.94 1139.57 631.05 1143.79 643.93 1136.68 655.25 1130.91 657.7 1122.25 667.47 1127.58 673.02 1139.13 682.8 1138.24 694.34 1128.91 716.78 1121.36 725.22 1120.02 737.21 1124.24 749.65 1128.46 752.98 1129.58 758.53 1146.45 768.3 1151.56 769.41 1139.57 775.41 1135.13 780.07 1127.35 782.74 1117.8 792.51 1117.8 795.84 1111.59 803.4 1111.81 816.28 1099.15 832.93 1091.15 839.82 1088.26 845.59 1068.94 860.92 1066.72 857.37 1069.83 850.92 1063.83 843.37 1061.83 848.48 1064.94 852.92 1059.39 858.7 1062.5 863.58 1062.72 869.58 1063.39 875.8 1072.72 878.02 1073.61 885.57 1083.82 885.57 1085.82 888.02 1079.16 894.9 1077.83 900.9 1077.83 909.78 1083.6 916.44 1081.6 920.89 1085.38 929.99 1088.26 934.21 1092.93 937.1 1098.7 943.32 1096.93 947.98 1085.6 954.2 1082.27 959.98 1082.49 965.08 1074.72 973.3 1074.05 978.41 1078.49 986.18 1085.6 989.51 1092.93 990.62 1092.04 993.06 1082.93 999.29 1079.6 1004.4 1080.49 1009.06 1083.38 1013.06 1079.82 1015.5 1082.93 1024.83 1072.72 1029.27 1069.61 1044.37 1065.17 1050.37 1055.39 1062.81 1050.73 1068.58 1051.84 1074.8 1054.51 1078.58 1054.06 1089.68 1046.95 1100.12 1038.74 1108.34 1027.63 1110.34 1026.3 1106.56 1018.75 1107.45 1016.97 1113.22 1007.42 1121.44 1007.86 1128.99 1015.42 1135.43 1014.31 1138.99 1010.31 1143.43 1009.42 1149.87 1011.42 1154.98 1008.09 1159.64 1000.76 1168.53 995.65 1169.86 990.54 1175.86 984.1 1175.86 982.99 1172.3 979.88 1175.86 981.21 1180.52 978.55 1182.52 976.77 1189.4 974.11 1194.51 967.66 1200.95 967.22 1208.5 971.22 1214.06 976.1 1222.72 970.77 1228.05 969.89 1234.71 967.89 1236.93 967.44 1244.93 958.34 1252.7 957 1262.25 950.79 1267.36 944.79 1269.36 938.57 1273.8 930.8 1261.14 920.58 1255.81 907.03 1254.7 912.58 1246.26 907.48 1239.82 901.26 1235.38 889.04 1232.94 888.6 1223.61 875.27 1218.94 866.39 1219.17 853.95 1210.06 863.28 1200.29 867.94 1195.4 868.39 1184.3 863.94 1173.41 853.28 1166.08 831.3 1166.31 828.85 1157.87 821.52 1152.31 822.63 1134.55 825.52 1124.11 827.08 1112.78 819.97 1103.23 813.08 1091.01 792.43 1083.02 786.43 1072.14 802.2 1073.25 812.42 1068.14 818.41 1061.47 818.86 1046.15 820.19 1036.82 812.86 1025.05 802.64 1013.06 794.65 1009.73 771.11 1007.5 769.11 991.51 760.89 981.3 745.34 974.41 729.57 973.97 716.69 976.41 724.02 968.42 723.58 945.76 718.91 936.65 702.26 927.33 686.71 923.33 686.71 908.67 678.94 890.46 680.93 876.24 678.94 866.69 675.38 856.48 675.38 849.37 678.94 841.82 682.04 838.26 683.82 829.16 693.82 824.94 703.59 823.16 718.25 816.72 731.13 806.95 733.79 799.84 733.35 785.41 729.57 777.85 715.14 773.63 705.37 768.75 711.14 759.64 714.25 750.54 733.79 742.76 752.67 732.99 759.78 724.55 760.89 717 772.44 709 778.88 701.01 790.87 696.57 804.87 696.12 817.53 695.23 831.96 690.35 842.18 680.8 856.79 677.46 869.05 670.14 873.94 664.81 874.38 654.59 871.72 641.04 863.28 630.38 854.39 623.05 853.73 618.16 858.17 612.39 857.73 602.62 848.62 591.29 846.84 581.3 839.07 572.41 826.19 561.9 823.74 546.65 825.08 537.76 822.63 528.44 816.41 521.55 817.08 514.67 834.4 508"/>
      <path id="gest_map_space_Newark" class="gest_map_space" d="M1157.03,570.7s5.47-5.23,5.94-5.94,9.04-2.86,9.04-2.86l8.32-3.33,11.65-1.66,8.32,1.43,5.71,9.99,6.66,5.94,7.85,2.38h11.89l4.52,6.42,9.99,4.04,18.07,5.71,10.22,2.14,6.66,11.65,7.61,6.66,15.46,6.18,7.85,3.09h17.6l9.99,2.85,12.36,3.33,8.8,9.04,13.32,15.22v14.03l-5.94,8.32-8.56,4.04h-8.32l-9.75,6.66-9.04,10.22-3.57,2.62-.24,7.85-1.66,13.55,8.32,7.61,9.51,12.84,9.75,15.69,7.13,5.23-.48,9.99-4.04,7.61-14.27,2.62-10.7,1.19-11.41,8.56-9.99,4.52-18.55,10.46-10.46,6.9-7.61,12.36-7.85,7.85-1.19,9.51v14.74l-4.28,14.03-.95,12.13,3.57,11.18,9.75,8.08,3.33,5.94-2.62,9.99-6.18,13.79h-5.23l-3.8,4.28v4.99l-11.89,7.61-5.71,5.47-.95,9.99,4.99,5.94,12.36,6.42,2.62,8.8,7.13,14.5-4.99,7.13-2.14,4.04-.48,8.8-3.8,5.47-2.38,12.13-3.8,5.23.95,9.75,7.61,6.18,16.64,10.7-3.8,8.8.24,12.36.48,14.03-2.14,4.28-12.6,6.66-5.94,1.9-3.57,10.94-3.09,15.87,2.62,9.34-5.23,9.99-2.62,8.56,7.13,11.41,3.57,3.57.48,9.99,6.66,10.22-8.32,10.22-10.46,14.74-9.04,12.84-12.84,6.18-23.3,8.08-14.98,7.13-4.28,4.52-.95,11.18-20.21,10.46-16.41,14.03-3.33,8.32v9.99l2.14,5.47.95,10.22,5.47,5.23,9.27,3.8v12.13l3.09,7.37-3.09,8.56-14.03,9.92-7.61,15.05v10.94l9.75,11.65,13.32,15.93,4.99,7.37,2.62,11.18,7.13,8.56,12.6,1.9,9.04,8.32,1.9,7.61,11.89,6.18,10.22,12.13-7.85,16.17-1.43,10.94-17.36,6.66-15.93,5.23-14.03,2.14-9.75,2.14-15.46,14.74-5.94-3.8,9.04-11.18-.24-3.09-3.33-.24-5.47,6.66-8.56-1.9v-4.76l-6.66-1.43-2.14-11.18-2.85-.24,1.66-7.85-10.7-7.61,4.04-6.18.24-6.9-8.56,5.71-8.8,1.66-1.66-4.52-7.13-1.43-5.23,1.43-5.94-3.57-7.37,1.9-3.09-2.85-7.37-.48v-6.42l-17.12-1.66-6.9-3.09s-10.94-1.43-11.65-1.43-10.22-3.8-10.22-3.8l-4.76-1.43-3.57,3.57-6.66-3.57-5.23,2.14-8.32-5.23-8.32-3.09-12.36-10.94-2.14-13.08,10.94-3.8.24-6.66-11.18-5.47-6.42-1.43-9.51-7.37v-6.42s-6.66-9.04-5.94-9.27,5.71-4.04,5.71-4.04l-2.85-2.38-18.07,8.32-6.42-.71v-6.42l-3.57-5.47,5.94-8.32-5.94-7.13-11.65-10.46-10.7-1.19-8.56,3.09-7.85,2.85-3.33-1.43v-6.66l-5.11-4.76,4.04-6.66-1.9-5.94,13.08-9.27,9.51-9.75-6.9-7.61,8.08-4.99,2.38-7.37,14.74-4.99,12.84-8.8,6.9-8.32,10.22-5.94,9.75,1.66,6.42-3.09,4.99-7.13,9.75-1.66,9.51-11.18,1.43-11.18,10.22-9.27-.71-9.51,8.32-10.7,1.9-5.47-3.8-6.18-2.38-6.18-4.76-3.57.95-3.8,9.99-4.52.48-6.9,10.46-8.56,6.18-1.9,14.03-15.46,2.38-9.04-2.62-6.9,8.32-11.89-3.8-10.7-3.33-1.43,7.13-4.76h9.04l12.6-4.04,5.23-11.65,7.61-2.62,18.07-1.66,4.28-3.57-21.64.71,4.04-9.04-.71-9.99-3.8-5.71,4.04-8.8,10.46-8.8,8.08-20.21,3.8-4.99s8.56-1.66,8.56-2.38v-4.28l-3.09-6.66,2.38-5.47-5.23-4.04,12.13-9.99,8.32-4.52-.24-4.99-6.66-4.04-13.32-.71-4.52-5.71,6.66-6.42.48-7.85,7.85-6.9,7.85-5.94,7.61.48-7.13-3.57-2.85-11.41-6.66-3.57-8.56-8.32,1.66-11.41-4.76-11.65.24-6.42,6.66-9.04,3.8-1.9-3.57-4.04-11.65.24-4.76-4.04-4.76-6.18,2.38-3.57,13.79-11.41,13.79-14.27,5.23-4.99-.24-2.85,7.61-10.22,5.23-10.46-1.43-4.04,8.32-6.42-2.38-4.99,6.66-4.76,8.56.48,3.57-7.85,9.27-2.62,7.85-13.32-5.23-4.76-6.78-1.43-8.2-4.99-9.75-8.32-3.57-7.85,3.09-15.22,12.6-25.92-.48-10.7,5.23-8.08-2.62-7.85-10.46-3.57-1.9-3.57,7.85-4.76,8.2-2.38,6.3-6.9v-6.18l-4.52-5.71-1.79-11.65-4.63-5.94-.95-5.94-4.99-8.08v-3.8l2.14-8.32,10.7-10.94,1.9-8.08,1.31-5.71Z"/>
      <polygon id="gest_map_space_OllertonHill" class="gest_map_space" points="625.46 976.04 664.65 973.51 703.85 973.51 720.91 983.63 739.24 983.63 756.94 988.68 763.9 1000.69 759.47 1012.07 783.49 1015.86 797.4 1018.39 810.04 1033.56 810.04 1060.29 798.66 1067.7 767.06 1064.54 756.94 1067.7 720.91 1086.66 701.95 1076.55 665.92 1080.97 639.37 1079.71 615.35 1086.66 600.18 1078.45 588.8 1074.02 573 1063.91 554.2 1030.09 566.04 1021.55 570.47 1004.49 584.37 1002.59 592.59 995.64 609.03 999.43 616.61 995.64 619.14 979.83 625.46 976.04"/>
      <polygon id="gest_map_space_ShireWood" class="gest_map_space" points="271.47 807.26 290.44 816.75 310.03 823.7 330.26 815.48 346.7 823.7 372.61 830.02 390.31 843.3 412.44 847.09 421.92 850.25 421.92 859.1 428.87 873 446.57 886.46 472.49 886.46 481.34 895.76 504.09 898.29 523.69 898.29 529.38 910.93 542.02 921.68 554.2 926.74 542.65 936.13 544.55 945.07 559.09 961.5 570.47 973.51 579.95 993.06 562.88 1000.06 554.2 1017.76 547.71 1030.09 550.24 1038.62 558.46 1060.29 569.2 1071.49 579.95 1079.71 598.28 1086.66 578.05 1100.57 566.67 1107.52 567.94 1118.9 574.26 1124.59 562.25 1132.18 560 1139.13 561.24 1147.8 563.1 1150.89 547.93 1163.59 527.81 1166.99 518.21 1171.33 514.5 1175.35 511.09 1185.88 496.54 1188.35 481.37 1195.78 444.22 1192.07 413.26 1194.24 358.16 1210.95 323.17 1234.17 316.67 1238.51 306.15 1232 311.41 1227.05 318.53 1211.57 316.36 1200.12 303.67 1190.52 287.26 1178.76 290.05 1170.4 274.26 1153.99 282.31 1152.13 286.33 1146.87 285.71 1136.96 278.59 1123.34 290.98 1114.05 292.52 1107.24 287.88 1099.19 279.21 1088.67 282.31 1081.55 291.29 1077.21 297.17 1067.62 283.55 1050.59 286.64 1045.02 288.5 1035.73 307.07 1028.3 311.41 1019.32 310.17 1010.96 314.19 1001.05 317.6 993.06 317.91 973.51 307.69 959.88 305.22 951.52 298.72 948.42 285.09 948.42 279.21 949.04 279.52 942.54 276.42 936.13 264.35 932.64 251.61 927.99 241.75 922.42 251.61 918.09 254.13 898.89 263.42 884.65 265.59 875.98 262.49 863.6 257.85 862.36 251.61 850.91 253.83 815.3 258.78 809.11 271.47 807.26"/>
      <path id="gest_map_space_SouthwellForest" class="gest_map_space" d="M499.42,1204.18s20.57-2.14,21-2.79c.43-.64,6-7.93,6-7.93l2.79-11.36,21.86-.86,10.29-6,8.36-6.43,9.21-10.5v-9.64l-3.21-8.57,6.86-1.71,7.93-7.5,1.93-10.5-5.36-6.43,12.64-6.64,14.79-10.5,6.86-4.5,17.14-4.5h10.93l8.36,1.5,15.86-1.5,11.36-2.36,13.5-1.71,9.86,3.86,9.43,7.5,12.43-3.86,15.43-4.58,7.93-2.92,10.07-9,5.79,1.07,8.14,12,7.5,7.93,10.29,3.64,5.79,1.93,8.88,14.36-3.1,15.86-2.36,13.82-.86,7.18,6.31,9.64,2.05,2.79-.86,8.79,3.43,3.21,7.29,3.86,27.22.86,3,5.79-9,9.21-6.43,6.43-.43,5.14,1.71,6.43,4.93,7.71,11.04,8.14,9.54,3.21h7.5l3.86,7.93,8.36,4.29,9.21,3.21-1.29,7.5,2.36,9,9.43,3.21,16.29,3.86v3l-9.43,8.79-1.29,3.43-10.29,3.86-9.86,9.64h-5.57l-8.36,4.29-4.29,6v4.07l-8.14,4.5.43,3.86-8.46,9.21,5.89,5.57-5.89,5.57-5.47,3.86-1.93,6.86-9.21,11.79,3.86,3.43-2.79,6.86-10.5,9-14.36,4.71-3,3.43,3.43,3.43-3.43,3.64-.43,6.43,1.29,4.5-6,6.86-10.5,7.29-1.71,8.36-9,9.64.64,3.43-12,6.86-7.71,3.64h-9.86l-22.72,2.57-3.43,3.64h-18l-4.71-4.29-7.71-4.29-2.14,2.36,7.71,7.5,5.04,4.07-8.04,6.43-4.5,6.21-4.93,3,1.93,6.43-7.07,7.29,4.5,6.86-3.64,4.71s-6.64,3.21-7.29,3.43c-.64.21-14.36,0-14.36,0l-9.43-3.21,6,6.21-3.21,4.5h-7.07l-15,6.21-5.14,1.29-11.79-5.36-5.79,1.71,13.93,7.07-12,5.79-11.14-6.21-15.86.64-9.21-9.43s-7.5-4.93-7.29-5.57,1.71-12.43,1.71-12.43l12.43-13.72,6.64-10.72,14.36-7.5v-19.5l9-21.86,3.86-18,2.36-16.29.43-21.22-.86-18.22-3.21-17.36-4.5-16.07-6-17.57-11.57-22.72-11.14-16.5-10.29-14.14-17.79-14.79-13.07-10.07-11.02-9-15.33-8.36-19.5-7.93Z"/>
      <path id="gest_map_space_Nottingham" class="gest_map_space" d="M431.34,1207.25c-14.47.79-60.24,5.12-101.22,40.83-43.83,38.2-52.94,86.82-55.21,100.07-2.17,12.62-4.53,34.87.58,61.53,9.69,50.63,44.58,108.31,103.52,131.7,37.87,15.02,74.07,11.3,87.41,9.78,10.33-1.18,28.15-3.21,47.16-11.5,72.91-31.83,90.22-124.06,91.44-131.12,2.83-16.37,8.71-53.25-8.05-94.89-24.24-60.2-77.53-84.93-90.86-90.86-30.6-13.62-58.43-15.6-74.76-15.53Z"/>
    </svg>
    ${tplTrack({ config: JUSTICE_TRACK_CONFIG })}
    ${tplTrack({ config: ORDER_TRACK })}
    ${tplTrack({ config: PARISH_STATUS_BOXES })}
    ${tplTrack({ config: ROYAL_INSPECTION_TRACK })}
    ${tplTrack({ config: INITIATIVE_TRACK })}
    ${tplTrack({ config: UNIQUE_SPACES })}
    ${tplSpaces()}
    ${tplTrack({ config: BRIDGE_LOCATIONS })}
  </div>`;
};
